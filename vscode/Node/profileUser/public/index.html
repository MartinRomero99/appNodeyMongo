<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Aplicación</title>
    <link rel="stylesheet" href="/style/main.css" />

</head>

<body>
    <h1>Bienvenido a mi aplicación</h1>
    <h2>Crear usuario</h2>
    <p>p de prueba</p>
    <!-- <button onclick="enviarDatos()">Enviar Datos al Servidor</button> -->

    <script>
        function enviarDatos() {
            // Ejemplo de solicitud POST con JavaScript puro (sin jQuery)
            const datosUsuario = { nombre: 'John', edad: 25 };

            fetch('http://localhost:3000/api/user', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(datosUsuario),
            })
                .then(response => response.json())
                .then(data => console.log(data))
                .catch(error => console.error('Error:', error));
        }
    </script>
    <div class="profileForm">
        <fieldset>
            <legend>Datos personales</legend>
            <form id="userForm">
                <label for="firstname">Nombre:</label><br>
                <input type="text" id="firstname" name="firstname" required>
                <br>
                <label for="lastname">Apellido:</label><br>
                <input type="text" id="lastname" name="lastname" required>
                <br>
                <label for="age">Edad:</label><br>
                <input type="date" id="age" name="age" required>
                <br>
                <label for="email">Email:</label><br>
                <input type="email" id="email" name="email" required>
                <br>
                <label for="password">Contraseña</label><br>
                <input type="password" id="password" name="password" required>
                <br>
                <button type="button" onclick="enviarDatos()">Enviar</button>


            </form>
        </fieldset>
    </div>

    <script>
        function enviarDatos() {
            const firstname = document.getElementById('firstname').value;
            const lastname = document.getElementById('lastname').value;
            const age = document.getElementById('age').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            fetch('/api/user/signup', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ firstname, lastname, age, email, password }),
            })
                .then(response => response.text())
                .then(data => {
                    console.log('Respuesta del servidor:', data);
                    // Puedes actualizar la interfaz de usuario según la respuesta del servidor
                })
                .catch(error => console.error('Error:', error));
        }
    </script>
</body>
<footer>
    <hr>
    <li class="button">
        <button type="submit">Footer</button>
    </li>
</footer>

</html>